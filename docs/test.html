<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpecOps - Enhanced Formatting Test</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        /* Enhanced content formatting */
        .content-display {
            line-height: 1.6;
            color: #374151;
        }
        
        .content-display h1 {
            font-size: 1.875rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        
        .content-display h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #374151;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .content-display h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #4b5563;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .content-display p {
            margin-bottom: 1rem;
        }
        
        .content-display ul, .content-display ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        .content-display li {
            margin-bottom: 0.5rem;
        }
        
        .content-display code {
            background-color: #f3f4f6;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            color: #dc2626;
        }
        
        .content-display pre {
            background-color: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
        }
        
        .content-display pre code {
            background: none;
            padding: 0;
            color: inherit;
        }
        
        .content-display .task-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .content-display .task-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .content-display .task-meta {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            font-size: 0.875rem;
        }
        
        .content-display .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .content-display .badge-beginner {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .content-display .badge-intermediate {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .content-display .badge-advanced {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        .content-display .checklist {
            list-style: none;
            padding-left: 0;
        }
        
        .content-display .checklist li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .content-display .checklist li:before {
            content: '‚òê';
            position: absolute;
            left: 0;
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Enhanced Formatting Test</h1>
        
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-xl font-semibold mb-4">Sample Task Content</h2>
            <div id="testContent" class="content-display bg-white border border-gray-200 p-6 rounded-lg"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    
    <script>
        const sampleContent = `# Onboarding Tasks for React

Welcome to the React project! These tasks will help you get up and running quickly.

## Task 1: Environment Setup üöÄ

**Description:** Set up your local development environment and get the project running.

**Prerequisites:**
- Git installed on your system
- Node.js (version 14 or higher)
- Code editor (VS Code recommended)

**Acceptance Criteria:**
- [ ] Repository cloned to your local machine
- [ ] All dependencies installed successfully
- [ ] Development server starts without errors
- [ ] Basic tests pass

**Estimated Time:** 30-45 minutes
**Difficulty:** beginner

**Helpful Commands:**
\`\`\`bash
git clone https://github.com/facebook/react.git
cd react
npm install
npm start
\`\`\`

---

## Task 2: Code Exploration üîç

**Description:** Explore the codebase structure and understand the main components.

**Prerequisites:**
- Development environment set up successfully
- Basic familiarity with JavaScript

**Acceptance Criteria:**
- [ ] Main directories identified
- [ ] Key configuration files understood
- [ ] Entry points located
- [ ] Documentation reviewed

**Estimated Time:** 45-60 minutes
**Difficulty:** intermediate`;

        function formatMarkdownContent(content) {
            if (typeof marked !== 'undefined') {
                marked.setOptions({
                    breaks: true,
                    gfm: true,
                    highlight: function(code, lang) {
                        if (typeof Prism !== 'undefined' && Prism.languages[lang]) {
                            return Prism.highlight(code, Prism.languages[lang], lang);
                        }
                        return code;
                    }
                });
                return marked.parse(content);
            }
            return content;
        }

        function formatTasksContent(content) {
            let formatted = formatMarkdownContent(content);
            
            // Add task card styling
            formatted = formatted.replace(
                /(<h2>.*?<\/h2>)([\s\S]*?)(?=<h2>|$)/g,
                function(match, title, body) {
                    const difficultyMatch = body.match(/\*\*Difficulty:\*\*\s*(\w+)/);
                    const timeMatch = body.match(/\*\*Estimated Time:\*\*\s*([^<]+)/);
                    
                    let difficulty = difficultyMatch ? difficultyMatch[1] : 'intermediate';
                    let time = timeMatch ? timeMatch[1].trim() : 'Unknown';
                    
                    return `
                        <div class="task-card">
                            <div class="task-header">
                                ${title}
                                <div class="task-meta">
                                    <span class="badge badge-${difficulty}">${difficulty}</span>
                                    <span class="text-gray-600">‚è±Ô∏è ${time}</span>
                                </div>
                            </div>
                            ${body}
                        </div>
                    `;
                }
            );
            
            // Format checklists
            formatted = formatted.replace(
                /<ul>([\s\S]*?)<\/ul>/g,
                function(match, content) {
                    if (content.includes('[ ]')) {
                        return '<ul class="checklist">' + content + '</ul>';
                    }
                    return match;
                }
            );
            
            formatted = formatted.replace(/- \[ \]/g, '<li>');
            formatted = formatted.replace(/- \[x\]/g, '<li class="completed">');
            
            return formatted;
        }

        // Test the formatting
        document.addEventListener('DOMContentLoaded', function() {
            const testDiv = document.getElementById('testContent');
            testDiv.innerHTML = formatTasksContent(sampleContent);
            
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>